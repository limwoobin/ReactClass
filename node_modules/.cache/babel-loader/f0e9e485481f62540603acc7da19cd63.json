{"ast":null,"code":"import _regeneratorRuntime from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import CssBaseline from'@material-ui/core/CssBaseline';import Typography from'@material-ui/core/Typography';import Container from'@material-ui/core/Container';import Divider from'@material-ui/core/Divider';import Button from'@material-ui/core/Button';import TextField from'@material-ui/core/TextField';import{withStyles}from'@material-ui/core/styles';import{Redirect}from'react-router-dom';import{API}from'../api/Call_API';import CircularProgress from'@material-ui/core/CircularProgress';var styles=function styles(theme){return{root:{'& > *':{margin:theme.spacing(1),width:'200px'}},textField:{width:'50%'},progress:{margin:theme.spacing.unit*2}};};var BoardWrite=/*#__PURE__*/function(_Component){_inherits(BoardWrite,_Component);function BoardWrite(props){var _this;_classCallCheck(this,BoardWrite);_this=_possibleConstructorReturn(this,_getPrototypeOf(BoardWrite).call(this,props));_this.componentDidMount=function(){clearInterval(_this.timer);};_this.handleValueChange=function(e){var nextState={};nextState[e.target.name]=e.target.value;_this.setState(nextState);};_this.handleBoardWrite=function(){_this.timer=setInterval(_this.progress,20);var data={};data.title=_this.state.title;data.userEmail=window.sessionStorage.loggedInUserEmail;data.content=_this.state.content;data.image=_this.state.image;data.boardType=_this.state.boardType;_this.callBoardInsert(data).then(function(res){console.log(res);_this.setState({completed:1});}).catch(function(err){console.log(err);});};_this.callBoardInsert=function _callee(data){var response;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(API.BoardInsert(data));case 2:response=_context.sent;console.log(response);console.log(response.data);return _context.abrupt(\"return\",response);case 6:case\"end\":return _context.stop();}}});};_this.progress=function(){var completed=_this.state.completed;_this.setState({completed:completed>=100?0:completed+1});};_this.state={title:'',userEmail:'',content:'',image:'',boardType:'02',completed:0};return _this;}_createClass(BoardWrite,[{key:\"render\",value:function render(){var classes=this.props.classes;return React.createElement(\"div\",{classes:classes.root},React.createElement(CssBaseline,null),React.createElement(Container,{maxWidth:\"md\"},React.createElement(Typography,{component:\"div\",style:{backgroundColor:'#F6F6F6',minHeight:'100%',fontSize:'15px',textAlign:'left'}},React.createElement(\"div\",null,React.createElement(\"div\",null,\"\\uC81C\\uBAA9 : \",React.createElement(TextField,{className:classes.textField,label:\"title\",name:\"title\",variant:\"outlined\",onChange:this.handleValueChange}),\" \",React.createElement(\"br\",null),\"\\uC791\\uC131\\uC790 : \",window.sessionStorage.loggedInUserEmail,React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(Divider,null),\"\\uB0B4\\uC6A9 : \",React.createElement(TextField,{className:classes.textField,label:\"content\",name:\"content\",variant:\"outlined\",onChange:this.handleValueChange}),\" \",React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"br\",null)),React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:this.handleBoardWrite},\"\\uC791\\uC131\"),React.createElement(Divider,null)))));}}]);return BoardWrite;}(Component);export default withStyles(styles)(BoardWrite);","map":{"version":3,"sources":["/Applications/woobeenkun/myBlog/client/src/board/BoardWrite.jsx"],"names":["React","Component","CssBaseline","Typography","Container","Divider","Button","TextField","withStyles","Redirect","API","CircularProgress","styles","theme","root","margin","spacing","width","textField","progress","unit","BoardWrite","props","componentDidMount","clearInterval","timer","handleValueChange","e","nextState","target","name","value","setState","handleBoardWrite","setInterval","data","title","state","userEmail","window","sessionStorage","loggedInUserEmail","content","image","boardType","callBoardInsert","then","res","console","log","completed","catch","err","BoardInsert","response","classes","backgroundColor","minHeight","fontSize","textAlign"],"mappings":"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","sourcesContent":["import React , {Component} from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport {withStyles} from '@material-ui/core/styles';\nimport {Redirect} from 'react-router-dom';\nimport {API} from '../api/Call_API';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst styles = theme => ({\n    root: {\n        '& > *': {\n          margin: theme.spacing(1),\n          width: '200px',\n        },\n      },\n      textField:{\n        width: '50%',\n      },\n      progress: {\n        margin: theme.spacing.unit * 2\n      },\n\n});\n\nclass BoardWrite extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            title: '',\n            userEmail: '',\n            content: '',\n            image : '',\n            boardType: '02',\n            completed: 0,\n        }\n    }\n\n    componentDidMount = () => {\n        clearInterval(this.timer);\n    }\n\n    handleValueChange = (e) => {\n        let nextState = {};\n        nextState[e.target.name] = e.target.value;\n        this.setState(nextState);\n    }\n\n    handleBoardWrite = () => {\n        this.timer = setInterval(this.progress, 20);\n        const data = {};\n        data.title = this.state.title;\n        data.userEmail = window.sessionStorage.loggedInUserEmail;\n        data.content = this.state.content;\n        data.image = this.state.image;\n        data.boardType = this.state.boardType;\n        this.callBoardInsert(data)\n        .then(res => {\n            console.log(res);\n            this.setState({\n                completed: 1\n            })\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    callBoardInsert = async(data) => {\n        const response = await API.BoardInsert(data);\n        console.log(response);\n        console.log(response.data);\n        return response;\n    }\n\n    progress = () => {\n        const {completed} = this.state;\n        this.setState({ completed: completed >= 100 ? 0 : completed + 1 });\n    }\n\n    render(){\n        const { classes } = this.props;\n        return (\n            <div classes={classes.root}>\n                <CssBaseline />\n                <Container maxWidth=\"md\">\n                <Typography component=\"div\" style={{ backgroundColor: '#F6F6F6' , minHeight:'100%' , fontSize: '15px' , textAlign: 'left'}}>\n                    {/* {window.sessionStorage.isLogin ?  */}\n                        <div>\n                            <div>\n                                제목 : <TextField className={classes.textField} label=\"title\"  name=\"title\" variant=\"outlined\" onChange={this.handleValueChange}/> <br/>\n                                작성자 : {window.sessionStorage.loggedInUserEmail}<br/>\n                                <br /><br />\n                                <Divider />\n                                내용 : <TextField className={classes.textField} label=\"content\" name=\"content\" variant=\"outlined\" onChange={this.handleValueChange}/> <br/> \n                                <br /><br />\n                            </div>\n                            {/* <CircularProgress className={classes.progress} variant='determinate' value={this.state.completed} /> */}\n                            <Button variant=\"contained\" color=\"primary\" onClick={this.handleBoardWrite}>작성</Button> \n                            <Divider />\n                        </div> \n                        {/* : <Redirect to='/login' /> } */}\n                </Typography>\n                </Container>\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(BoardWrite);\n"]},"metadata":{},"sourceType":"module"}