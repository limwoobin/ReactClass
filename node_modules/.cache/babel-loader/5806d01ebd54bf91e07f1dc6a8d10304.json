{"ast":null,"code":"import _defineProperty from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{withStyles}from'@material-ui/core/styles';import Drawer from'@material-ui/core/Drawer';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemText from'@material-ui/core/ListItemText';import MenuIcon from'@material-ui/icons/Menu';import IconButton from'@material-ui/core/IconButton';import Divider from'@material-ui/core/Divider';import{Link}from'react-router-dom';import{Func}from'../common/common';var styles=function styles(theme){return{list:{width:250},fullList:{width:'auto'}};};var Menu=/*#__PURE__*/function(_Component){_inherits(Menu,_Component);function Menu(props){var _this;_classCallCheck(this,Menu);_this=_possibleConstructorReturn(this,_getPrototypeOf(Menu).call(this,props));_this.UNSAFE_componentWillMount=function(){setInterval(20);_this.GetMenuItems().then(function(res){_this.setState({menuitems:res});}).catch(function(err){return console.log(err);});};_this.GetMenuItems=function _callee(){var response,body;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(fetch('/dr/category/list'));case 2:response=_context.sent;_context.next=5;return _regeneratorRuntime.awrap(response.json());case 5:body=_context.sent;return _context.abrupt(\"return\",body.data);case 7:case\"end\":return _context.stop();}}});};_this.toggleDrawer=function(side,open){return function(event){if(event.type==='keydown'&&(event.key==='Tab'||event.key==='Shift')){return;}_this.setState(_defineProperty({},side,open));};};_this.divStyle={list:{width:270},menuHead:{height:50}};_this.state={left:false,menuitems:[]};return _this;}_createClass(Menu,[{key:\"render\",value:function render(){var _this2=this;var openSide=function openSide(side){return React.createElement(\"div\",{role:\"presentation\",onClick:_this2.toggleDrawer(side,false),onKeyDown:_this2.toggleDrawer(side,false),style:_this2.divStyle.list},menuList(_this2.state.menuitems));};var menuList=function menuList(menuitems){return React.createElement(\"div\",null,React.createElement(List,null,React.createElement(Divider,null),menuitems.sort(Func.Compare('id')).map(function(c){return React.createElement(Link,{to:c.routerName,key:c.id},React.createElement(ListItem,{button:true,key:c.name},React.createElement(ListItemText,{primary:c.name})));}),React.createElement(Divider,null)));};var classes=this.props.classes;return React.createElement(\"div\",null,React.createElement(IconButton,{className:classes.menuButton,color:\"inherit\",\"aria-label\":\"Open drawer\",onClick:this.toggleDrawer('left',true)},React.createElement(MenuIcon,null)),React.createElement(Drawer,{open:this.state.left,onClose:this.toggleDrawer('left',false)},openSide('left')));}}]);return Menu;}(Component);export default withStyles(styles)(Menu);","map":{"version":3,"sources":["/Applications/woobeenkun/myBlog/client/src/layout/Menu.jsx"],"names":["React","Component","withStyles","Drawer","List","ListItem","ListItemText","MenuIcon","IconButton","Divider","Link","Func","styles","theme","list","width","fullList","Menu","props","UNSAFE_componentWillMount","setInterval","GetMenuItems","then","res","setState","menuitems","catch","err","console","log","fetch","response","json","body","data","toggleDrawer","side","open","event","type","key","divStyle","menuHead","height","state","left","openSide","menuList","sort","Compare","map","c","routerName","id","name","classes","menuButton"],"mappings":"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","sourcesContent":["import React , {Component} from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport IconButton from '@material-ui/core/IconButton';\nimport Divider from '@material-ui/core/Divider';\nimport { Link } from 'react-router-dom';\nimport {Func} from '../common/common';\n\nconst styles = theme => ({\n    list: {\n      width: 250,\n    },\n    fullList: {\n      width: 'auto',\n    },\n  });\n\nclass Menu extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            left: false,\n            menuitems: [],\n        }\n    }\n    \n    UNSAFE_componentWillMount = () => {\n      setInterval(20);\n      this.GetMenuItems()\n        .then(res => {\n          this.setState({\n            menuitems: res,\n          })\n        })\n        .catch(err => console.log(err));\n    }\n\n    GetMenuItems = async() => {\n      const response = await fetch('/dr/category/list');\n      const body = await response.json();\n      return body.data;\n    }\n\n    toggleDrawer = (side, open) => event => {\n        if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n          return;\n        }\n        this.setState({[side]: open });\n      };\n\n    divStyle = {\n        list: {\n            width: 270,\n        },\n        menuHead: {\n            height: 50,\n\n        }\n    }\n\n    render(){\n\n      const openSide = side => (\n        <div\n          role=\"presentation\"\n          onClick={this.toggleDrawer(side, false)}\n          onKeyDown={this.toggleDrawer(side, false)}\n          style={this.divStyle.list}\n        >\n          {menuList(this.state.menuitems)}\n        </div>\n      );\n\n    const menuList = (menuitems) => {\n      return <div>\n              <List>\n                <Divider />\n                  {menuitems.sort(Func.Compare('id')).map((c) => (\n                  <Link to={c.routerName} key={c.id}>\n                    <ListItem \n                      button key={c.name}\n                    >\n                      <ListItemText primary={c.name}/>\n                    </ListItem>\n                  </Link>\n                ))}\n                <Divider />\n              </List>\n            </div>\n    };      \n        const {classes} = this.props;\n        return(\n            <div>\n                <IconButton \n                    className={classes.menuButton} \n                    color='inherit' \n                    aria-label=\"Open drawer\"\n                    onClick={this.toggleDrawer('left', true)}\n                >\n                    <MenuIcon />\n                </IconButton>\n                <Drawer open={this.state.left} onClose={this.toggleDrawer('left', false)}>\n                    {openSide('left')}\n                </Drawer>\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(Menu);"]},"metadata":{},"sourceType":"module"}