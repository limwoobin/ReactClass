{"ast":null,"code":"import _regeneratorRuntime from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./App.scss';// import {hot} from 'react-hot-loader';\nimport Customer from'./components/Customer';import CustomerAdd from'./components/CustomerAdd';import Paper from'@material-ui/core/Paper';import Table from'@material-ui/core/Table';import TableHead from'@material-ui/core/TableHead';import TableBody from'@material-ui/core/TableBody';import TableRow from'@material-ui/core/TableRow';import TableCell from'@material-ui/core/TableCell';import CircularProgress from'@material-ui/core/CircularProgress';import{withStyles}from'@material-ui/core/styles';var styles=function styles(theme){return{root:{width:\"100%\",marginTop:theme.spacing.unit*3,overflowX:\"auto\"},table:{minWidth:1080}};};var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.callApi=function _callee(){var response,body;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(fetch('/dr/customer/customers'));case 2:response=_context.sent;_context.next=5;return _regeneratorRuntime.awrap(response.json());case 5:body=_context.sent;return _context.abrupt(\"return\",body);case 7:case\"end\":return _context.stop();}}});};_this.progress=function(){var completed=_this.state.completed;_this.setState({completed:completed>=100?0:completed+1});};_this.state={customers:'',completed:0};_this.stateRefresh=_this.stateRefresh.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"stateRefresh\",value:function stateRefresh(){var _this2=this;this.setState({customers:'',completed:0});this.callApi().then(function(res){return _this2.setState({customers:res});}).catch(function(err){return console.log(err);});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;this.timer=setInterval(this.progress,20);this.callApi().then(function(res){return _this3.setState({customers:res});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this4=this;var classes=this.props.classes;return React.createElement(\"div\",null,React.createElement(Paper,{className:classes.root},React.createElement(Table,{className:classes.table},React.createElement(TableHead,null,React.createElement(TableRow,null,React.createElement(TableCell,null,\"\\uBC88\\uD638\"),React.createElement(TableCell,null,\"\\uC774\\uBBF8\\uC9C0\"),React.createElement(TableCell,null,\"\\uC774\\uB984\"),React.createElement(TableCell,null,\"\\uC0DD\\uB144\\uC6D4\\uC77C\"),React.createElement(TableCell,null,\"\\uC131\\uBCC4\"),React.createElement(TableCell,null,\"\\uC9C1\\uC5C5\"))),React.createElement(TableBody,null,this.state.customers?this.state.customers.map(function(c){return React.createElement(Customer,{stateRefresh:_this4.stateRefresh,key:c.id,id:c.id,image:c.image,name:c.name,birthday:c.birthday,gender:c.gender,job:c.job});}):React.createElement(TableRow,null,React.createElement(TableCell,{colSpan:\"6\",align:\"center\"},React.createElement(CircularProgress,{className:classes.progress,variant:\"determinate\",value:this.state.completed})))))),React.createElement(CustomerAdd,{stateRefresh:this.stateRefresh}));}}]);return App;}(Component);// export default hot(module)(App);\nexport default withStyles(styles)(App);","map":{"version":3,"sources":["/Applications/woobeenkun/myBlog/client/src/App.js"],"names":["React","Component","Customer","CustomerAdd","Paper","Table","TableHead","TableBody","TableRow","TableCell","CircularProgress","withStyles","styles","theme","root","width","marginTop","spacing","unit","overflowX","table","minWidth","App","props","callApi","fetch","response","json","body","progress","completed","state","setState","customers","stateRefresh","bind","then","res","catch","err","console","log","timer","setInterval","classes","map","c","id","image","name","birthday","gender","job"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './App.scss';\n// import {hot} from 'react-hot-loader';\nimport Customer from './components/Customer';\nimport CustomerAdd from './components/CustomerAdd';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { withStyles } from '@material-ui/core/styles';\n\n\nconst styles = theme => ({\n  root: {\n    width: \"100%\",\n    marginTop: theme.spacing.unit * 3,\n    overflowX: \"auto\"\n  },\n  table: {\n    minWidth: 1080\n    }\n});\n  \nclass App extends Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      customers: '',\n      completed: 0\n    }\n    this.stateRefresh = this.stateRefresh.bind(this);\n  }\n  \n  stateRefresh(){\n    this.setState({\n      customers: '',\n      completed: 0\n    });\n    this.callApi()\n      .then(res => this.setState({customers: res}))\n      .catch(err => console.log(err));\n  }\n  \n\n  componentDidMount() {\n    this.timer = setInterval(this.progress, 20);\n     this.callApi()\n      .then(res => this.setState({customers: res}))\n      .catch(err => console.log(err));\n    }\n    \n  callApi = async () => {\n     const response = await fetch('/dr/customer/customers');\n     const body = await response.json();\n     return body;\n  }\n\n  progress = () => {\n    const {completed} = this.state;\n    this.setState({ completed: completed >= 100 ? 0 : completed + 1 });\n  };\n\n  render(){\n    const {classes} = this.props;\n    return(\n      <div>\n        <Paper className={classes.root}>\n          <Table className={classes.table}>\n            <TableHead>\n              <TableRow>\n                <TableCell>번호</TableCell>\n                <TableCell>이미지</TableCell>\n                <TableCell>이름</TableCell>\n                <TableCell>생년월일</TableCell>\n                <TableCell>성별</TableCell>\n                <TableCell>직업</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {this.state.customers ? \n                this.state.customers.map(c => {\n                  return <Customer stateRefresh={this.stateRefresh} \n                                   key={c.id} \n                                   id={c.id} \n                                   image={c.image} \n                                   name={c.name} \n                                   birthday={c.birthday} \n                                   gender={c.gender} \n                                   job={c.job} \n                          />\n              }) : \n              <TableRow>\n                <TableCell colSpan='6' align='center'>\n                  <CircularProgress className={classes.progress} variant='determinate' value={this.state.completed} />\n                </TableCell>\n              </TableRow>\n              }\n            </TableBody>\n          </Table>\n        </Paper>\n        <CustomerAdd stateRefresh={this.stateRefresh}/>\n      </div>  \n    );\n  }\n}\n\n// export default hot(module)(App);\nexport default withStyles(styles)(App);\n\n"]},"metadata":{},"sourceType":"module"}