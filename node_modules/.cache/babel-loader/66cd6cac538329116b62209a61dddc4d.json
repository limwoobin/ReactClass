{"ast":null,"code":"var _jsxFileName = \"/Applications/woobeenkun/myBlog/client/src/members/SignUpForm.jsx\";\nimport React, { Component } from 'react';\nimport { post, get } from 'axios';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DateForm from '../common/DateForm';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  hidden: {\n    display: 'none'\n  },\n  button: {\n    margin: theme.spacing(1)\n  }\n});\n\nclass SignUpForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleMailAvailableCheck = e => {\n      e.preventDefault();\n      this.verifyEmail(this.state.userEmail);\n      console.log(this.state.userEmailStatus); // get('/dr/member/overlap/check/' + this.state.userEmail) \n\n      this._userEmailChk().then(response => {\n        let res = response.data;\n        console.log(res);\n\n        if (res.code === 'DR00') {\n          this.setState({\n            userEmailStatus: 2\n          });\n        } else {\n          this.setState({\n            userEmailStatus: 0\n          });\n          alert('Alerdy exists email');\n        }\n      }).catch(response => {\n        console.log(response);\n      });\n    };\n\n    this._userEmailChk = () => {\n      return get('/dr/member/overlap/check/' + this.state.userEmail);\n    };\n\n    this.handleFormSubmit = e => {\n      e.preventDefault();\n\n      if (this.state.userEmailStatus === 0) {\n        alert('Email is Not Available');\n        return;\n      } else if (this.state.userPwd !== this.state.userPwdChk && (this.state.userPwd !== '' || this.state.userPwd !== null)) {\n        alert('Password does not Match');\n        return;\n      } else if (!this.state.userNm) {\n        alert('Please Input in your name');\n        return;\n      } else if (!this.state.userPhone) {\n        alert('Please Check in your phone number');\n        return;\n      } else if (!this.state.birthday) {\n        alert('Please select a birthday');\n        return;\n      }\n\n      this._addMemberInfo().then(response => {\n        console.log(response.data.code);\n\n        if (response.data.code === 'DR00') {\n          alert('You have successfully registered');\n        }\n      });\n\n      this.setState({\n        open: false\n      });\n    };\n\n    this.handleClickOpen = () => {\n      this.setState({\n        open: true\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        open: false,\n        userEmail: '',\n        userPwd: '',\n        userPwdChk: '',\n        userNm: '',\n        userPhone: '',\n        birthday: null,\n        userEmailStatus: 0\n      });\n    };\n\n    this.verifyEmail = email => {\n      let regExp = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;\n\n      if (email.match(regExp) == null || email === null || email === '') {\n        alert('Please check your email');\n        return 'FAIL';\n      } else {\n        this.setState({\n          userEmailStatus: 1\n        });\n        return 'SUCCESS';\n      }\n    };\n\n    this.verifyPhoneNumber = phoneNumber => {\n      let regExp = /^\\d{3}-\\d{3,4}-\\d{4}$/;\n\n      if (phoneNumber.match(regExp) == null || phoneNumber === null || phoneNumber === '') {\n        return false;\n      } else {\n        return true;\n      }\n    };\n\n    this.handleInputOnlyNumber = e => {\n      console.log(e); // console.log(e.target.value);\n\n      if (e.keyCode >= 48 && e.keyCode <= 57) {\n        //숫자키만 입력\n        return true;\n      } else {\n        e.returnValue = false;\n      }\n    };\n\n    this.handleValueChange = e => {\n      let nextState = {};\n      nextState[e.target.name] = e.target.value;\n      this.setState(nextState);\n    };\n\n    this.birthdayCallback = callBackDate => {\n      this.setState({\n        birthday: callBackDate\n      });\n    };\n\n    this._addMemberInfo = () => {\n      const url = '/dr/member/insert';\n      const formData = new FormData();\n      formData.append('userEmail', this.state.userEmail);\n      formData.append('userPwd', this.state.userPwd);\n      formData.append('birthday', this.state.birthday);\n      formData.append('userNm', this.state.userNm);\n      formData.append('userPhone', this.state.userPhone);\n      const config = {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n        }\n      };\n      return post(url, formData, config);\n    };\n\n    this.state = {\n      open: false,\n      userEmail: '',\n      userPwd: '',\n      userPwdChk: '',\n      userNm: '',\n      userPhone: '',\n      birthday: null,\n      userEmailStatus: 0\n    };\n  }\n\n  render() {\n    // const { classes } = this.props;\n    const userEmailStatus = this.state.userEmailStatus;\n    let emailAvailableCheckButton = null;\n\n    if (userEmailStatus === 0) {\n      emailAvailableCheckButton = React.createElement(Button, {\n        variant: \"outlined\",\n        color: \"primary\",\n        onClick: this.handleMailAvailableCheck,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Check for duplicate email\");\n    } else {\n      emailAvailableCheckButton = React.createElement(Button, {\n        variant: \"outlined\",\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"Email is Available\");\n    }\n\n    let emailInputType = null;\n\n    if (userEmailStatus === 0) {\n      emailInputType = React.createElement(TextField, {\n        autoFocus: true,\n        margin: \"dense\",\n        id: \"userEmail\",\n        name: \"userEmail\",\n        value: this.state.userEmail,\n        label: \"Email Address\",\n        type: \"email\",\n        onChange: this.handleValueChange,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      });\n    } else {\n      emailInputType = React.createElement(TextField, {\n        autoFocus: true,\n        margin: \"dense\",\n        disabled: true,\n        id: \"userEmail\",\n        name: \"userEmail\",\n        value: this.state.userEmail,\n        label: \"Email Address\",\n        type: \"email\",\n        onChange: this.handleValueChange,\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"contained\",\n      color: \"#fff000\",\n      onClick: this.handleClickOpen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Sign Up\"), React.createElement(Dialog, {\n      open: this.state.open,\n      onClose: this.handleClose,\n      \"aria-labelledby\": \"form-dialog-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(DialogTitle, {\n      id: \"form-dialog-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(DialogContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(DialogContentText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"To subscribe to this website, please enter your email address here. We will send updates occasionally.\"), emailInputType, emailAvailableCheckButton, \"\\xA0\\xA0\\xA0\", React.createElement(TextField, {\n      autoFocus: true,\n      margin: \"dense\",\n      id: \"userPwd\",\n      name: \"userPwd\",\n      value: this.state.userPwd,\n      label: \"password\",\n      type: \"password\",\n      onChange: this.handleValueChange,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      autoFocus: true,\n      margin: \"dense\",\n      id: \"userPwdChk\",\n      name: \"userPwdChk\",\n      value: this.state.userPwdChk,\n      label: \"password check\",\n      type: \"password\",\n      onChange: this.handleValueChange,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      autoFocus: true,\n      margin: \"dense\",\n      id: \"userNm\",\n      name: \"userNm\",\n      value: this.state.userNm,\n      label: \"name\",\n      type: \"text\",\n      onChange: this.handleValueChange,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      autoFocus: true,\n      margin: \"dense\",\n      id: \"userPhone\",\n      name: \"userPhone\",\n      value: this.state.userPhone,\n      label: \"Phone number\",\n      type: \"text\",\n      placeholder: \"ex)010-0000-0000\",\n      onKeyPress: this.handleInputOnlyNumber,\n      onChange: this.handleValueChange,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }), React.createElement(DateForm, {\n      callBackData: this.birthdayCallback,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    })), React.createElement(DialogActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.handleClose,\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"Cancel\"), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", React.createElement(Button, {\n      onClick: this.handleFormSubmit,\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, \"Sign Up\"))));\n  }\n\n}\n\nexport default withStyles(styles)(SignUpForm); // export default SignUpForm;","map":{"version":3,"sources":["/Applications/woobeenkun/myBlog/client/src/members/SignUpForm.jsx"],"names":["React","Component","post","get","Button","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","DateForm","withStyles","styles","theme","hidden","display","button","margin","spacing","SignUpForm","constructor","props","handleMailAvailableCheck","e","preventDefault","verifyEmail","state","userEmail","console","log","userEmailStatus","_userEmailChk","then","response","res","data","code","setState","alert","catch","handleFormSubmit","userPwd","userPwdChk","userNm","userPhone","birthday","_addMemberInfo","open","handleClickOpen","handleClose","email","regExp","match","verifyPhoneNumber","phoneNumber","handleInputOnlyNumber","keyCode","returnValue","handleValueChange","nextState","target","name","value","birthdayCallback","callBackDate","url","formData","FormData","append","config","headers","render","emailAvailableCheckButton","emailInputType"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAgC,OAAhC;AACA,SAAQC,IAAR,EAAeC,GAAf,QAAyB,OAAzB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,SAAQC,UAAR,QAAyB,0BAAzB;;AAEA,MAAMC,MAAM,GAAGC,KAAK,KAAK;AACrBC,EAAAA,MAAM,EAAE;AACJC,IAAAA,OAAO,EAAE;AADL,GADa;AAIrBC,EAAAA,MAAM,EAAE;AACJC,IAAAA,MAAM,EAAEJ,KAAK,CAACK,OAAN,CAAc,CAAd;AADJ;AAJa,CAAL,CAApB;;AASA,MAAMC,UAAN,SAAyBnB,SAAzB,CAAkC;AAC9BoB,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAclBC,wBAdkB,GAcUC,CAAD,IAAO;AAC9BA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKC,WAAL,CAAiB,KAAKC,KAAL,CAAWC,SAA5B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKH,KAAL,CAAWI,eAAvB,EAH8B,CAI9B;;AACA,WAAKC,aAAL,GACCC,IADD,CACMC,QAAQ,IAAI;AACd,YAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAnB;AACAP,QAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;;AACA,YAAGA,GAAG,CAACE,IAAJ,KAAa,MAAhB,EAAuB;AACnB,eAAKC,QAAL,CAAc;AACVP,YAAAA,eAAe,EAAE;AADP,WAAd;AAGH,SAJD,MAIK;AACD,eAAKO,QAAL,CAAc;AACVP,YAAAA,eAAe,EAAE;AADP,WAAd;AAGAQ,UAAAA,KAAK,CAAC,qBAAD,CAAL;AACH;AACJ,OAdD,EAeCC,KAfD,CAeON,QAAQ,IAAI;AACfL,QAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;AACH,OAjBD;AAkBH,KArCiB;;AAAA,SAuClBF,aAvCkB,GAuCF,MAAM;AACnB,aAAO7B,GAAG,CAAC,8BAA8B,KAAKwB,KAAL,CAAWC,SAA1C,CAAV;AACF,KAzCiB;;AAAA,SA2ClBa,gBA3CkB,GA2CEjB,CAAD,IAAO;AACtBA,MAAAA,CAAC,CAACC,cAAF;;AACA,UAAG,KAAKE,KAAL,CAAWI,eAAX,KAA+B,CAAlC,EAAoC;AAChCQ,QAAAA,KAAK,CAAC,wBAAD,CAAL;AACA;AACH,OAHD,MAGM,IAAI,KAAKZ,KAAL,CAAWe,OAAX,KAAuB,KAAKf,KAAL,CAAWgB,UAAnC,KAAmD,KAAKhB,KAAL,CAAWe,OAAX,KAAuB,EAAvB,IAA6B,KAAKf,KAAL,CAAWe,OAAX,KAAuB,IAAvG,CAAH,EAAgH;AAClHH,QAAAA,KAAK,CAAC,yBAAD,CAAL;AACA;AACH,OAHK,MAGA,IAAG,CAAC,KAAKZ,KAAL,CAAWiB,MAAf,EAAsB;AACxBL,QAAAA,KAAK,CAAC,2BAAD,CAAL;AACA;AACH,OAHK,MAGA,IAAG,CAAC,KAAKZ,KAAL,CAAWkB,SAAf,EAAyB;AAC3BN,QAAAA,KAAK,CAAC,mCAAD,CAAL;AACA;AACH,OAHK,MAGA,IAAG,CAAC,KAAKZ,KAAL,CAAWmB,QAAf,EAAwB;AAC1BP,QAAAA,KAAK,CAAC,0BAAD,CAAL;AACA;AACH;;AACD,WAAKQ,cAAL,GACCd,IADD,CACOC,QAAD,IAAc;AAChBL,QAAAA,OAAO,CAACC,GAAR,CAAYI,QAAQ,CAACE,IAAT,CAAcC,IAA1B;;AACA,YAAGH,QAAQ,CAACE,IAAT,CAAcC,IAAd,KAAuB,MAA1B,EAAiC;AAC7BE,UAAAA,KAAK,CAAC,kCAAD,CAAL;AACH;AACJ,OAND;;AAQA,WAAKD,QAAL,CAAc;AACVU,QAAAA,IAAI,EAAE;AADI,OAAd;AAGH,KAxEiB;;AAAA,SA0ElBC,eA1EkB,GA0EA,MAAM;AACpB,WAAKX,QAAL,CAAc;AACVU,QAAAA,IAAI,EAAE;AADI,OAAd;AAGH,KA9EiB;;AAAA,SAgFlBE,WAhFkB,GAgFJ,MAAM;AAChB,WAAKZ,QAAL,CAAc;AACVU,QAAAA,IAAI,EAAE,KADI;AAEVpB,QAAAA,SAAS,EAAG,EAFF;AAGVc,QAAAA,OAAO,EAAG,EAHA;AAIVC,QAAAA,UAAU,EAAG,EAJH;AAKVC,QAAAA,MAAM,EAAG,EALC;AAMVC,QAAAA,SAAS,EAAG,EANF;AAOVC,QAAAA,QAAQ,EAAE,IAPA;AAQVf,QAAAA,eAAe,EAAE;AARP,OAAd;AAUH,KA3FiB;;AAAA,SA6FlBL,WA7FkB,GA6FHyB,KAAD,IAAW;AACrB,UAAIC,MAAM,GAAG,kFAAb;;AACA,UAAGD,KAAK,CAACE,KAAN,CAAYD,MAAZ,KAAuB,IAAvB,IAA+BD,KAAK,KAAK,IAAzC,IAAiDA,KAAK,KAAK,EAA9D,EAAiE;AAC7DZ,QAAAA,KAAK,CAAC,yBAAD,CAAL;AACA,eAAO,MAAP;AACH,OAHD,MAGK;AACD,aAAKD,QAAL,CAAc;AACVP,UAAAA,eAAe,EAAE;AADP,SAAd;AAGA,eAAO,SAAP;AACH;AACJ,KAxGiB;;AAAA,SA0GlBuB,iBA1GkB,GA0GGC,WAAD,IAAiB;AACjC,UAAIH,MAAM,GAAG,uBAAb;;AACA,UAAGG,WAAW,CAACF,KAAZ,CAAkBD,MAAlB,KAA6B,IAA7B,IAAqCG,WAAW,KAAK,IAArD,IAA6DA,WAAW,KAAK,EAAhF,EAAmF;AAC/E,eAAO,KAAP;AACH,OAFD,MAEK;AACD,eAAO,IAAP;AACH;AACJ,KAjHiB;;AAAA,SAmHlBC,qBAnHkB,GAmHOhC,CAAD,IAAO;AAC3BK,MAAAA,OAAO,CAACC,GAAR,CAAYN,CAAZ,EAD2B,CAE3B;;AACA,UAAIA,CAAC,CAACiC,OAAF,IAAa,EAAb,IAAmBjC,CAAC,CAACiC,OAAF,IAAa,EAApC,EAAwC;AAAE;AACtC,eAAO,IAAP;AACH,OAFD,MAEO;AACHjC,QAAAA,CAAC,CAACkC,WAAF,GAAgB,KAAhB;AACH;AACJ,KA3HiB;;AAAA,SA6HlBC,iBA7HkB,GA6HGnC,CAAD,IAAO;AACvB,UAAIoC,SAAS,GAAG,EAAhB;AACAA,MAAAA,SAAS,CAACpC,CAAC,CAACqC,MAAF,CAASC,IAAV,CAAT,GAA2BtC,CAAC,CAACqC,MAAF,CAASE,KAApC;AACA,WAAKzB,QAAL,CAAcsB,SAAd;AACH,KAjIiB;;AAAA,SAmIlBI,gBAnIkB,GAmIEC,YAAD,IAAkB;AACjC,WAAK3B,QAAL,CAAc;AACVQ,QAAAA,QAAQ,EAAEmB;AADA,OAAd;AAGH,KAvIiB;;AAAA,SAyIlBlB,cAzIkB,GAyID,MAAM;AACnB,YAAMmB,GAAG,GAAG,mBAAZ;AACA,YAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,WAAhB,EAA8B,KAAK1C,KAAL,CAAWC,SAAzC;AACAuC,MAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA4B,KAAK1C,KAAL,CAAWe,OAAvC;AACAyB,MAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA6B,KAAK1C,KAAL,CAAWmB,QAAxC;AACAqB,MAAAA,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA2B,KAAK1C,KAAL,CAAWiB,MAAtC;AACAuB,MAAAA,QAAQ,CAACE,MAAT,CAAgB,WAAhB,EAA8B,KAAK1C,KAAL,CAAWkB,SAAzC;AACA,YAAMyB,MAAM,GAAG;AACXC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX;AADE,OAAf;AAKA,aAAOrE,IAAI,CAACgE,GAAD,EAAOC,QAAP,EAAkBG,MAAlB,CAAX;AACH,KAvJiB;;AAEd,SAAK3C,KAAL,GAAa;AACTqB,MAAAA,IAAI,EAAE,KADG;AAETpB,MAAAA,SAAS,EAAG,EAFH;AAGTc,MAAAA,OAAO,EAAG,EAHD;AAITC,MAAAA,UAAU,EAAG,EAJJ;AAKTC,MAAAA,MAAM,EAAG,EALA;AAMTC,MAAAA,SAAS,EAAG,EANH;AAOTC,MAAAA,QAAQ,EAAE,IAPD;AAQTf,MAAAA,eAAe,EAAE;AARR,KAAb;AAUH;;AA6IDyC,EAAAA,MAAM,GAAE;AACJ;AADI,UAEGzC,eAFH,GAEsB,KAAKJ,KAF3B,CAEGI,eAFH;AAGJ,QAAI0C,yBAAyB,GAAG,IAAhC;;AACA,QAAG1C,eAAe,KAAK,CAAvB,EAAyB;AACrB0C,MAAAA,yBAAyB,GAAI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,UAAhB;AAA2B,QAAA,KAAK,EAAC,SAAjC;AAA2C,QAAA,OAAO,EAAE,KAAKlD,wBAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAA7B;AACH,KAFD,MAEK;AACDkD,MAAAA,yBAAyB,GAAI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,UAAhB;AAA2B,QAAA,QAAQ,MAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAA7B;AACH;;AAED,QAAIC,cAAc,GAAG,IAArB;;AACA,QAAG3C,eAAe,KAAK,CAAvB,EAAyB;AACrB2C,MAAAA,cAAc,GAAG,oBAAC,SAAD;AAAW,QAAA,SAAS,MAApB;AAAqB,QAAA,MAAM,EAAC,OAA5B;AAAoC,QAAA,EAAE,EAAC,WAAvC;AAAmD,QAAA,IAAI,EAAC,WAAxD;AAAoE,QAAA,KAAK,EAAE,KAAK/C,KAAL,CAAWC,SAAtF;AAAiG,QAAA,KAAK,EAAC,eAAvG;AAAuH,QAAA,IAAI,EAAC,OAA5H;AAAoI,QAAA,QAAQ,EAAE,KAAK+B,iBAAnJ;AAAsK,QAAA,SAAS,MAA/K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAjB;AACH,KAFD,MAEK;AACDe,MAAAA,cAAc,GAAG,oBAAC,SAAD;AAAW,QAAA,SAAS,MAApB;AAAqB,QAAA,MAAM,EAAC,OAA5B;AAAoC,QAAA,QAAQ,MAA5C;AAA6C,QAAA,EAAE,EAAC,WAAhD;AAA4D,QAAA,IAAI,EAAC,WAAjE;AAA6E,QAAA,KAAK,EAAE,KAAK/C,KAAL,CAAWC,SAA/F;AAA0G,QAAA,KAAK,EAAC,eAAhH;AAAgI,QAAA,IAAI,EAAC,OAArI;AAA6I,QAAA,QAAQ,EAAE,KAAK+B,iBAA5J;AAA+K,QAAA,SAAS,MAAxL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAjB;AACH;;AACD,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,WAAhB;AAA4B,MAAA,KAAK,EAAC,SAAlC;AAA4C,MAAA,OAAO,EAAE,KAAKV,eAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAII,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAE,KAAKtB,KAAL,CAAWqB,IAAzB;AAA+B,MAAA,OAAO,EAAE,KAAKE,WAA7C;AAA0D,yBAAgB,mBAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,WAAD;AAAa,MAAA,EAAE,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEQ,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gHADJ,EAKKwB,cALL,EAOKD,yBAPL,kBASI,oBAAC,SAAD;AAAW,MAAA,SAAS,MAApB;AAAqB,MAAA,MAAM,EAAC,OAA5B;AAAoC,MAAA,EAAE,EAAC,SAAvC;AAAiD,MAAA,IAAI,EAAC,SAAtD;AAAgE,MAAA,KAAK,EAAE,KAAK9C,KAAL,CAAWe,OAAlF;AAA2F,MAAA,KAAK,EAAC,UAAjG;AAA4G,MAAA,IAAI,EAAC,UAAjH;AAA4H,MAAA,QAAQ,EAAE,KAAKiB,iBAA3I;AAA8J,MAAA,SAAS,MAAvK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATJ,EAUI,oBAAC,SAAD;AAAW,MAAA,SAAS,MAApB;AAAqB,MAAA,MAAM,EAAC,OAA5B;AAAoC,MAAA,EAAE,EAAC,YAAvC;AAAoD,MAAA,IAAI,EAAC,YAAzD;AAAsE,MAAA,KAAK,EAAE,KAAKhC,KAAL,CAAWgB,UAAxF;AAAoG,MAAA,KAAK,EAAC,gBAA1G;AAA2H,MAAA,IAAI,EAAC,UAAhI;AAA2I,MAAA,QAAQ,EAAE,KAAKgB,iBAA1J;AAA6K,MAAA,SAAS,MAAtL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVJ,EAWI,oBAAC,SAAD;AAAW,MAAA,SAAS,MAApB;AAAqB,MAAA,MAAM,EAAC,OAA5B;AAAoC,MAAA,EAAE,EAAC,QAAvC;AAAgD,MAAA,IAAI,EAAC,QAArD;AAA8D,MAAA,KAAK,EAAE,KAAKhC,KAAL,CAAWiB,MAAhF;AAAwF,MAAA,KAAK,EAAC,MAA9F;AAAqG,MAAA,IAAI,EAAC,MAA1G;AAAiH,MAAA,QAAQ,EAAE,KAAKe,iBAAhI;AAAmJ,MAAA,SAAS,MAA5J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXJ,EAYI,oBAAC,SAAD;AAAW,MAAA,SAAS,MAApB;AAAqB,MAAA,MAAM,EAAC,OAA5B;AAAoC,MAAA,EAAE,EAAC,WAAvC;AAAmD,MAAA,IAAI,EAAC,WAAxD;AAAoE,MAAA,KAAK,EAAE,KAAKhC,KAAL,CAAWkB,SAAtF;AAAiG,MAAA,KAAK,EAAC,cAAvG;AAAsH,MAAA,IAAI,EAAC,MAA3H;AAAkI,MAAA,WAAW,EAAC,kBAA9I;AAAiK,MAAA,UAAU,EAAE,KAAKW,qBAAlL;AAAyM,MAAA,QAAQ,EAAE,KAAKG,iBAAxN;AAA2O,MAAA,SAAS,MAApP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZJ,EAaI,oBAAC,QAAD;AAAU,MAAA,YAAY,EAAE,KAAKK,gBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbJ,CAFR,EAiBI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKd,WAAtB;AAAmC,MAAA,KAAK,EAAC,SAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,kCAIA,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKT,gBAAtB;AAAwC,MAAA,KAAK,EAAC,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJA,CAjBJ,CAJJ,CADJ;AAiCH;;AA3M6B;;AA8MlC,eAAe7B,UAAU,CAACC,MAAD,CAAV,CAAmBO,UAAnB,CAAf,C,CACA","sourcesContent":["import React , {Component} from 'react';\nimport {post , get} from 'axios';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DateForm from '../common/DateForm';\nimport {withStyles} from '@material-ui/core/styles';\n\nconst styles = theme => ({\n    hidden: {\n        display: 'none'\n    },\n    button: {\n        margin: theme.spacing(1),\n      },\n});\n\nclass SignUpForm extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            open: false,\n            userEmail : '',\n            userPwd : '',\n            userPwdChk : '',\n            userNm : '',\n            userPhone : '',\n            birthday: null,\n            userEmailStatus: 0,\n        }\n    }\n\n    handleMailAvailableCheck = (e) => {\n        e.preventDefault();\n        this.verifyEmail(this.state.userEmail);\n        console.log(this.state.userEmailStatus);\n        // get('/dr/member/overlap/check/' + this.state.userEmail) \n        this._userEmailChk()\n        .then(response => {\n            let res = response.data;\n            console.log(res);\n            if(res.code === 'DR00'){\n                this.setState({\n                    userEmailStatus: 2\n                });\n            }else{\n                this.setState({\n                    userEmailStatus: 0\n                })\n                alert('Alerdy exists email');\n            }\n        })\n        .catch(response => {\n            console.log(response);\n        });\n    }\n\n    _userEmailChk = () => {\n       return get('/dr/member/overlap/check/' + this.state.userEmail);\n    }\n\n    handleFormSubmit = (e) => {\n        e.preventDefault();\n        if(this.state.userEmailStatus === 0){\n            alert('Email is Not Available');\n            return;\n        }else if((this.state.userPwd !== this.state.userPwdChk) && (this.state.userPwd !== '' || this.state.userPwd !== null)){\n            alert('Password does not Match');\n            return;\n        }else if(!this.state.userNm){\n            alert('Please Input in your name');\n            return;\n        }else if(!this.state.userPhone){\n            alert('Please Check in your phone number');\n            return;\n        }else if(!this.state.birthday){\n            alert('Please select a birthday');\n            return;\n        }\n        this._addMemberInfo()\n        .then((response) => {\n            console.log(response.data.code);\n            if(response.data.code === 'DR00'){\n                alert('You have successfully registered');\n            }\n        });\n\n        this.setState({\n            open: false,\n        });\n    }\n\n    handleClickOpen = () => {\n        this.setState({\n            open: true\n        });\n    }\n\n    handleClose = () => {\n        this.setState({\n            open: false,\n            userEmail : '',\n            userPwd : '',\n            userPwdChk : '',\n            userNm : '',\n            userPhone : '',\n            birthday: null,\n            userEmailStatus: 0,\n        });\n    }\n\n    verifyEmail = (email) => {\n        let regExp = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;\n        if(email.match(regExp) == null || email === null || email === ''){\n            alert('Please check your email'); \n            return 'FAIL';\n        }else{\n            this.setState({\n                userEmailStatus: 1\n            });\n            return 'SUCCESS';\n        }\n    }\n\n    verifyPhoneNumber = (phoneNumber) => {\n        let regExp = /^\\d{3}-\\d{3,4}-\\d{4}$/;\n        if(phoneNumber.match(regExp) == null || phoneNumber === null || phoneNumber === ''){\n            return false;\n        }else{\n            return true;\n        }\n    }\n\n    handleInputOnlyNumber = (e) => {\n        console.log(e);\n        // console.log(e.target.value);\n        if (e.keyCode >= 48 && e.keyCode <= 57) { //숫자키만 입력\n            return true;\n        } else {\n            e.returnValue = false;\n        }\n    }\n\n    handleValueChange = (e) => {\n        let nextState = {};\n        nextState[e.target.name] = e.target.value;\n        this.setState(nextState);\n    }\n\n    birthdayCallback = (callBackDate) => {\n        this.setState({\n            birthday: callBackDate,\n        })\n    }\n\n    _addMemberInfo = () => {\n        const url = '/dr/member/insert';\n        const formData = new FormData();\n        formData.append('userEmail' , this.state.userEmail);\n        formData.append('userPwd' , this.state.userPwd);\n        formData.append('birthday' , this.state.birthday);\n        formData.append('userNm' , this.state.userNm);\n        formData.append('userPhone' , this.state.userPhone);\n        const config = {\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n            }\n        };\n        return post(url , formData , config);\n    }\n\n    render(){\n        // const { classes } = this.props;\n        const {userEmailStatus} = this.state;\n        let emailAvailableCheckButton = null;\n        if(userEmailStatus === 0){\n            emailAvailableCheckButton =  <Button variant=\"outlined\" color=\"primary\" onClick={this.handleMailAvailableCheck}>Check for duplicate email</Button>\n        }else{\n            emailAvailableCheckButton =  <Button variant=\"outlined\" disabled>Email is Available</Button>\n        }\n\n        let emailInputType = null;\n        if(userEmailStatus === 0){\n            emailInputType = <TextField autoFocus margin=\"dense\" id=\"userEmail\" name=\"userEmail\" value={this.state.userEmail} label=\"Email Address\" type=\"email\" onChange={this.handleValueChange} fullWidth />\n        }else{\n            emailInputType = <TextField autoFocus margin=\"dense\" disabled id=\"userEmail\" name=\"userEmail\" value={this.state.userEmail} label=\"Email Address\" type=\"email\" onChange={this.handleValueChange} fullWidth />\n        }\n        return(\n            <div>\n                <Button variant=\"contained\" color=\"#fff000\" onClick={this.handleClickOpen}>\n                    Sign Up\n                </Button>\n                <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\n                    <DialogTitle id=\"form-dialog-title\">Sign In</DialogTitle>\n                        <DialogContent>\n                            <DialogContentText>\n                                To subscribe to this website, please enter your email address here. We will send updates\n                                occasionally.\n                            </DialogContentText>\n                            {emailInputType}\n                            {/* {this.state.userEmailStatus === 0} */}\n                            {emailAvailableCheckButton}&nbsp;&nbsp;&nbsp;\n                            {/* <Button variant=\"outlined\" color=\"primary\" onClick={this.handleMailSend}>Send Mail</Button> */}\n                            <TextField autoFocus margin=\"dense\" id=\"userPwd\" name=\"userPwd\" value={this.state.userPwd} label=\"password\" type=\"password\" onChange={this.handleValueChange} fullWidth />\n                            <TextField autoFocus margin=\"dense\" id=\"userPwdChk\" name=\"userPwdChk\" value={this.state.userPwdChk} label=\"password check\" type=\"password\" onChange={this.handleValueChange} fullWidth />\n                            <TextField autoFocus margin=\"dense\" id=\"userNm\" name=\"userNm\" value={this.state.userNm} label=\"name\" type=\"text\" onChange={this.handleValueChange} fullWidth />\n                            <TextField autoFocus margin=\"dense\" id=\"userPhone\" name=\"userPhone\" value={this.state.userPhone} label=\"Phone number\" type=\"text\" placeholder=\"ex)010-0000-0000\" onKeyPress={this.handleInputOnlyNumber} onChange={this.handleValueChange} fullWidth />\n                            <DateForm callBackData={this.birthdayCallback}/>\n                        </DialogContent>\n                    <DialogActions>\n                    <Button onClick={this.handleClose} color=\"primary\">\n                        Cancel\n                    </Button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      \n                    <Button onClick={this.handleFormSubmit} color=\"primary\">\n                        Sign Up\n                    </Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(SignUpForm);\n// export default SignUpForm;"]},"metadata":{},"sourceType":"module"}