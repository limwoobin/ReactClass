{"ast":null,"code":"var _jsxFileName = \"/Applications/woobeenkun/myBlog/client/src/members/SignInForm.jsx\";\nimport React, { Component } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Func } from '../common/common';\nimport { API } from '../api/Call_API'; // const styles = theme => ({\n//     hidden: {\n//         display: 'none'\n//     },\n// });\n\nclass SignInForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClickOpen = () => {\n      this.setState({\n        open: true\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        open: false,\n        userEmail: '',\n        userPwd: ''\n      });\n    };\n\n    this.handleValueChange = e => {\n      let nextState = {};\n      nextState[e.target.name] = e.target.value;\n      this.setState(nextState);\n    };\n\n    this.handleKeyPress = e => {\n      if (e.charCode === 13) {\n        this.handleFormSubmit();\n      }\n    };\n\n    this.handleFormSubmit = e => {\n      let emailCheck = Func.setVerifyEmail(this.state.userEmail);\n      if (emailCheck === 'FAIL') return;\n\n      if (this.state.userPwd === null) {\n        alert('Please Input in your password');\n        return;\n      }\n\n      this._Login().then(response => {\n        console.log(response.data.code);\n\n        if (response.data.code === 'DR00') {\n          console.log('Login Success');\n          this.props.callLogin(); // window.localStorage.isLogin = true;\n          // window.localStorage.loggedInUserEmail = this.state.userEmail;\n\n          window.sessionStorage.isLogin = true;\n          window.sessionStorage.loggedInUserEmail = this.state.userEmail;\n        }\n\n        this.setState({\n          open: false,\n          userEmail: '',\n          userPwd: ''\n        });\n      }).catch(response => {\n        console.log(response);\n      });\n    };\n\n    this._Login = () => {\n      const formData = new FormData();\n      formData.append('userEmail', this.state.userEmail);\n      formData.append('userPwd', this.state.userPwd);\n      return API.LOGIN(formData);\n    };\n\n    this.state = {\n      userEmail: '',\n      userPwd: '',\n      open: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"contained\",\n      color: \"default\",\n      onClick: this.handleClickOpen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(Dialog, {\n      open: this.state.open,\n      onClose: this.handleClose,\n      \"aria-labelledby\": \"form-dialog-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(DialogTitle, {\n      id: \"form-dialog-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(DialogContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(DialogContentText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      autoFocus: true,\n      margin: \"dense\",\n      id: \"userEmail\",\n      name: \"userEmail\",\n      value: this.state.userEmail,\n      label: \"Email Address\",\n      type: \"email\",\n      onChange: this.handleValueChange,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      autoFocus: true,\n      margin: \"dense\",\n      id: \"userPwd\",\n      name: \"userPwd\",\n      value: this.state.userPwd,\n      label: \"password\",\n      type: \"password\",\n      onChange: this.handleValueChange,\n      onKeyPress: this.handleKeyPress,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    })), React.createElement(DialogActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.handleClose,\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Cancel\"), React.createElement(Button, {\n      onClick: this.handleFormSubmit,\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Sign In\"))));\n  }\n\n}\n\nexport default SignInForm;","map":{"version":3,"sources":["/Applications/woobeenkun/myBlog/client/src/members/SignInForm.jsx"],"names":["React","Component","Dialog","DialogActions","DialogContent","DialogTitle","DialogContentText","TextField","Button","Func","API","SignInForm","constructor","props","handleClickOpen","setState","open","handleClose","userEmail","userPwd","handleValueChange","e","nextState","target","name","value","handleKeyPress","charCode","handleFormSubmit","emailCheck","setVerifyEmail","state","alert","_Login","then","response","console","log","data","code","callLogin","window","sessionStorage","isLogin","loggedInUserEmail","catch","formData","FormData","append","LOGIN","render"],"mappings":"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","sourcesContent":["import React , {Component} from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Func } from '../common/common';\nimport { API } from '../api/Call_API';\n\n// const styles = theme => ({\n//     hidden: {\n//         display: 'none'\n//     },\n// });\n\nclass SignInForm extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            userEmail : '',\n            userPwd : '',\n            open : false,\n        }\n    }\n\n    handleClickOpen = () => {\n        this.setState({\n            open: true\n        });\n    }\n\n    handleClose = () => {\n        this.setState({\n            open: false,\n            userEmail : '',\n            userPwd : ''\n        });\n    }\n\n    handleValueChange = (e) => {\n        let nextState = {};\n        nextState[e.target.name] = e.target.value;\n        this.setState(nextState);\n    }\n\n    handleKeyPress = (e) => {\n        if(e.charCode === 13){\n            this.handleFormSubmit();\n        }\n    }\n\n    handleFormSubmit = (e) => {\n        let emailCheck = Func.setVerifyEmail(this.state.userEmail);\n        if(emailCheck === 'FAIL') return;\n        if(this.state.userPwd === null){\n            alert('Please Input in your password');\n            return;\n        }   \n        this._Login()\n        .then((response) => {\n            console.log(response.data.code);\n            if(response.data.code === 'DR00'){\n                console.log('Login Success');\n                this.props.callLogin();\n                // window.localStorage.isLogin = true;\n                // window.localStorage.loggedInUserEmail = this.state.userEmail;\n                window.sessionStorage.isLogin = true;\n                window.sessionStorage.loggedInUserEmail = this.state.userEmail;\n            }\n\n            this.setState({\n                open: false,\n                userEmail : '',\n                userPwd : ''\n            })\n        })\n        .catch((response) => {\n            console.log(response);\n        });\n    }\n\n    _Login = () => {\n        const formData = new FormData();\n        formData.append('userEmail' , this.state.userEmail);\n        formData.append('userPwd' , this.state.userPwd);\n        return API.LOGIN(formData);\n    }\n\n    render(){\n        return(\n            <div>\n                <Button variant=\"contained\" color=\"default\" onClick={this.handleClickOpen}>\n                    Sign In\n                </Button>\n                <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\n                    <DialogTitle id=\"form-dialog-title\">Sign In</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText></DialogContentText>\n                        <TextField autoFocus margin=\"dense\" id=\"userEmail\" name=\"userEmail\" value={this.state.userEmail} label=\"Email Address\" type=\"email\" onChange={this.handleValueChange} fullWidth />\n                        <TextField autoFocus margin=\"dense\" id=\"userPwd\" name=\"userPwd\" value={this.state.userPwd} label=\"password\" type=\"password\" onChange={this.handleValueChange} onKeyPress={this.handleKeyPress} fullWidth />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button onClick={this.handleFormSubmit} color=\"primary\">\n                            Sign In\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        )\n    }\n}\n\nexport default SignInForm;"]},"metadata":{},"sourceType":"module"}