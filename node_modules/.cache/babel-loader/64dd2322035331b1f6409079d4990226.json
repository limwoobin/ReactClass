{"ast":null,"code":"import _classCallCheck from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Dialog from'@material-ui/core/Dialog';import DialogActions from'@material-ui/core/DialogActions';import DialogContent from'@material-ui/core/DialogContent';import DialogTitle from'@material-ui/core/DialogTitle';import DialogContentText from'@material-ui/core/DialogContentText';import TextField from'@material-ui/core/TextField';import Button from'@material-ui/core/Button';import{Func}from'../common/common';import{API}from'../api/Call_API';// const styles = theme => ({\n//     hidden: {\n//         display: 'none'\n//     },\n// });\nvar SignInForm=/*#__PURE__*/function(_Component){_inherits(SignInForm,_Component);function SignInForm(props){var _this;_classCallCheck(this,SignInForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(SignInForm).call(this,props));_this.handleClickOpen=function(){_this.setState({open:true});};_this.handleClose=function(){_this.setState({open:false,userEmail:'',userPwd:''});};_this.handleValueChange=function(e){var nextState={};nextState[e.target.name]=e.target.value;_this.setState(nextState);};_this.handleKeyPress=function(e){if(e.charCode===13){_this.handleFormSubmit();}};_this.handleFormSubmit=function(e){var emailCheck=Func.setVerifyEmail(_this.state.userEmail);if(emailCheck==='FAIL')return;if(_this.state.userPwd===null){alert('Please Input in your password');return;}_this._Login().then(function(response){console.log(response.data.code);if(response.data.code==='DR00'){console.log('Login Success');_this.props.callLogin();window.sessionStorage.isLogin=true;window.sessionStorage.loggedInUserEmail=_this.state.userEmail;}_this.setState({open:false,userEmail:'',userPwd:''});}).catch(function(response){console.log(response);});};_this._Login=function(){var formData=new FormData();formData.append('userEmail',_this.state.userEmail);formData.append('userPwd',_this.state.userPwd);return API.LOGIN(formData);};_this.state={userEmail:'',userPwd:'',open:false};return _this;}_createClass(SignInForm,[{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(Button,{variant:\"contained\",color:\"default\",onClick:this.handleClickOpen},\"\\uB85C\\uADF8\\uC778\"),React.createElement(Dialog,{open:this.state.open,onClose:this.handleClose,\"aria-labelledby\":\"form-dialog-title\"},React.createElement(DialogTitle,{id:\"form-dialog-title\"},\"Sign In\"),React.createElement(DialogContent,null,React.createElement(DialogContentText,null),React.createElement(TextField,{autoFocus:true,margin:\"dense\",id:\"userEmail\",name:\"userEmail\",value:this.state.userEmail,label:\"Email Address\",type:\"email\",onChange:this.handleValueChange,fullWidth:true}),React.createElement(TextField,{autoFocus:true,margin:\"dense\",id:\"userPwd\",name:\"userPwd\",value:this.state.userPwd,label:\"password\",type:\"password\",onChange:this.handleValueChange,onKeyPress:this.handleKeyPress,fullWidth:true})),React.createElement(DialogActions,null,React.createElement(Button,{onClick:this.handleClose,color:\"primary\"},\"Cancel\"),React.createElement(Button,{onClick:this.handleFormSubmit,color:\"primary\"},\"Sign In\"))));}}]);return SignInForm;}(Component);export default SignInForm;","map":{"version":3,"sources":["/Applications/woobeenkun/myBlog/client/src/members/SignInForm.jsx"],"names":["React","Component","Dialog","DialogActions","DialogContent","DialogTitle","DialogContentText","TextField","Button","Func","API","SignInForm","props","handleClickOpen","setState","open","handleClose","userEmail","userPwd","handleValueChange","e","nextState","target","name","value","handleKeyPress","charCode","handleFormSubmit","emailCheck","setVerifyEmail","state","alert","_Login","then","response","console","log","data","code","callLogin","window","sessionStorage","isLogin","loggedInUserEmail","catch","formData","FormData","append","LOGIN"],"mappings":"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","sourcesContent":["import React , {Component} from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Func } from '../common/common';\nimport { API } from '../api/Call_API';\n\n// const styles = theme => ({\n//     hidden: {\n//         display: 'none'\n//     },\n// });\n\nclass SignInForm extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            userEmail : '',\n            userPwd : '',\n            open : false,\n        }\n    }\n\n    handleClickOpen = () => {\n        this.setState({\n            open: true\n        });\n    }\n\n    handleClose = () => {\n        this.setState({\n            open: false,\n            userEmail : '',\n            userPwd : ''\n        });\n    }\n\n    handleValueChange = (e) => {\n        let nextState = {};\n        nextState[e.target.name] = e.target.value;\n        this.setState(nextState);\n    }\n\n    handleKeyPress = (e) => {\n        if(e.charCode === 13){\n            this.handleFormSubmit();\n        }\n    }\n\n    handleFormSubmit = (e) => {\n        let emailCheck = Func.setVerifyEmail(this.state.userEmail);\n        if(emailCheck === 'FAIL') return;\n        if(this.state.userPwd === null){\n            alert('Please Input in your password');\n            return;\n        }   \n        this._Login()\n        .then((response) => {\n            console.log(response.data.code);\n            if(response.data.code === 'DR00'){\n                console.log('Login Success');\n                this.props.callLogin();\n                window.sessionStorage.isLogin = true;\n                window.sessionStorage.loggedInUserEmail = this.state.userEmail;\n            }\n\n            this.setState({\n                open: false,\n                userEmail : '',\n                userPwd : ''\n            })\n        })\n        .catch((response) => {\n            console.log(response);\n        });\n    }\n\n    _Login = () => {\n        const formData = new FormData();\n        formData.append('userEmail' , this.state.userEmail);\n        formData.append('userPwd' , this.state.userPwd);\n        return API.LOGIN(formData);\n    }\n\n    render(){\n        return(\n            <div>\n                <Button variant=\"contained\" color=\"default\" onClick={this.handleClickOpen}>\n                    로그인\n                </Button>\n                <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\n                    <DialogTitle id=\"form-dialog-title\">Sign In</DialogTitle>\n                    <DialogContent>\n                        <DialogContentText></DialogContentText>\n                        <TextField autoFocus margin=\"dense\" id=\"userEmail\" name=\"userEmail\" value={this.state.userEmail} label=\"Email Address\" type=\"email\" onChange={this.handleValueChange} fullWidth />\n                        <TextField autoFocus margin=\"dense\" id=\"userPwd\" name=\"userPwd\" value={this.state.userPwd} label=\"password\" type=\"password\" onChange={this.handleValueChange} onKeyPress={this.handleKeyPress} fullWidth />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button onClick={this.handleFormSubmit} color=\"primary\">\n                            Sign In\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        )\n    }\n}\n\nexport default SignInForm;"]},"metadata":{},"sourceType":"module"}