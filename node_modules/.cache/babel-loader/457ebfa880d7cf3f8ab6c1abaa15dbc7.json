{"ast":null,"code":"import _regeneratorRuntime from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _defineProperty from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{Component}from'react';import'./App.scss';// import {hot} from 'react-hot-loader';\nimport Customer from'./components/Customer';import CustomerAdd from'./components/CustomerAdd';import Paper from'@material-ui/core/Paper';import Table from'@material-ui/core/Table';import TableHead from'@material-ui/core/TableHead';import TableBody from'@material-ui/core/TableBody';import TableRow from'@material-ui/core/TableRow';import TableCell from'@material-ui/core/TableCell';import CircularProgress from'@material-ui/core/CircularProgress';import{withStyles}from'@material-ui/core/styles';import MenuIcon from'@material-ui/icons/Menu';import SearchIcon from'@material-ui/icons/Search';import InputBase from'@material-ui/core/InputBase';import{fade}from'@material-ui/core/styles/colorManipulator';import Typography from'@material-ui/core/Typography';import AppBar from'@material-ui/core/AppBar';import Toolbar from'@material-ui/core/Toolbar';import IconButton from'@material-ui/core/IconButton';import Footer from'./layout/Footer';var styles=function styles(theme){return{root:{width:\"100%\",minWidth:1080},menu:{marginTop:15,marginBottom:15,display:'flex',justifyContent:'center'},paper:{marginLeft:18,marginRight:18},progress:{margin:theme.spacing.unit*2},grow:{flexGrow:1},tableHead:{fontSize:'1.0rem'},menuButton:{marginLeft:-12,marginRight:20},title:_defineProperty({display:'none'},theme.breakpoints.up('sm'),{display:'block'}),search:_defineProperty({position:'relative',borderRadius:theme.shape.borderRadius,backgroundColor:fade(theme.palette.common.white,0.15),'&:hover':{backgroundColor:fade(theme.palette.common.white,0.25)},marginLeft:0,width:'100%'},theme.breakpoints.up('sm'),{marginLeft:theme.spacing.unit,width:'auto'}),searchIcon:{width:theme.spacing.unit*9,height:'100%',position:'absolute',pointerEvents:'none',display:'flex',alignItems:'center',justifyContent:'center'},inputRoot:{color:'inherit',width:'100%'},inputInput:_defineProperty({paddingTop:theme.spacing.unit,paddingRight:theme.spacing.unit,paddingBottom:theme.spacing.unit,paddingLeft:theme.spacing.unit*10,transition:theme.transitions.create('width'),width:'100%'},theme.breakpoints.up('sm'),{width:120,'&:focus':{width:200}})};};var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.handleValueChange=function(e){var nextState={};nextState[e.target.name]=e.target.value;_this.setState(nextState);};_this.handeSlideMenu=function(e){console.log('메뉴리스트');};_this.componentWillMount=function(){clearInterval(_this.timer);};_this.callApi=function _callee(){var response,body;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(fetch('/dr/customer/customers'));case 2:response=_context.sent;_context.next=5;return _regeneratorRuntime.awrap(response.json());case 5:body=_context.sent;return _context.abrupt(\"return\",body);case 7:case\"end\":return _context.stop();}}});};_this.progress=function(){var completed=_this.state.completed;_this.setState({completed:completed>=100?0:completed+1});};_this.state={customers:'',completed:0,searchKeyword:''};_this.stateRefresh=_this.stateRefresh.bind(_assertThisInitialized(_this));_this.handleValueChange=_this.handleValueChange.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"stateRefresh\",value:function stateRefresh(){var _this2=this;this.setState({customers:'',completed:0,searchKeyword:''});this.callApi().then(function(res){return _this2.setState({customers:res});}).catch(function(err){return console.log(err);});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;this.timer=setInterval(this.progress,20);this.callApi().then(function(res){return _this3.setState({customers:res});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this4=this;var filteredComponents=function filteredComponents(data){data=data.filter(function(c){return c.name.indexOf(_this4.state.searchKeyword)>-1;});return data.map(function(c){return React.createElement(Customer,{stateRefresh:_this4.stateRefresh,key:c.id,id:c.id,image:c.image,name:c.name,birthday:c.birthday,gender:c.gender,job:c.job});});};var classes=this.props.classes;var cellList=[\"번호\",\"프로필 이미지\",\"이름\",\"생년월일\",\"성별\",\"직업\",\"설정\"];return React.createElement(\"div\",{className:classes.root},React.createElement(AppBar,{position:\"static\"},React.createElement(Toolbar,null,React.createElement(IconButton,{className:classes.menuButton,color:\"inherit\",\"aria-label\":\"Open drawer\"},React.createElement(MenuIcon,{onClick:this.handeSlideMenu})),React.createElement(Typography,{className:classes.title,variant:\"h6\",color:\"inherit\",noWrap:true},\"\\uACE0\\uAC1D\\uAD00\\uB9AC\"),React.createElement(\"div\",{className:classes.grow}),React.createElement(\"div\",{className:classes.search},React.createElement(\"div\",{className:classes.searchIcon},React.createElement(SearchIcon,null)),React.createElement(InputBase,{placeholder:\"\\uAC80\\uC0C9\\uD558\\uAE30\",classes:{root:classes.inputRoot,input:classes.inputInput},name:\"searchKeyword\",value:this.state.searchKeyword,onChange:this.handleValueChange})))),React.createElement(\"div\",{className:classes.menu},React.createElement(CustomerAdd,{stateRefresh:this.stateRefresh})),React.createElement(Paper,{className:classes.paper},React.createElement(Table,null,React.createElement(TableHead,null,React.createElement(TableRow,null,cellList.map(function(c){return React.createElement(TableCell,{className:classes.tableHead},c);}))),React.createElement(TableBody,null,this.state.customers?filteredComponents(this.state.customers):React.createElement(TableRow,null,React.createElement(TableCell,{colSpan:\"6\",align:\"center\"},React.createElement(CircularProgress,{className:classes.progress,variant:\"determinate\",value:this.state.completed})))))),React.createElement(Footer,null));}}]);return App;}(Component);// export default hot(module)(App);\nexport default withStyles(styles)(App);","map":{"version":3,"sources":["/Applications/woobeenkun/myBlog/client/src/App.js"],"names":["React","Component","Customer","CustomerAdd","Paper","Table","TableHead","TableBody","TableRow","TableCell","CircularProgress","withStyles","MenuIcon","SearchIcon","InputBase","fade","Typography","AppBar","Toolbar","IconButton","Footer","styles","theme","root","width","minWidth","menu","marginTop","marginBottom","display","justifyContent","paper","marginLeft","marginRight","progress","margin","spacing","unit","grow","flexGrow","tableHead","fontSize","menuButton","title","breakpoints","up","search","position","borderRadius","shape","backgroundColor","palette","common","white","searchIcon","height","pointerEvents","alignItems","inputRoot","color","inputInput","paddingTop","paddingRight","paddingBottom","paddingLeft","transition","transitions","create","App","props","handleValueChange","e","nextState","target","name","value","setState","handeSlideMenu","console","log","componentWillMount","clearInterval","timer","callApi","fetch","response","json","body","completed","state","customers","searchKeyword","stateRefresh","bind","then","res","catch","err","setInterval","filteredComponents","data","filter","c","indexOf","map","id","image","birthday","gender","job","classes","cellList","input"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './App.scss';\n// import {hot} from 'react-hot-loader';\nimport Customer from './components/Customer';\nimport CustomerAdd from './components/CustomerAdd';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { withStyles } from '@material-ui/core/styles';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InputBase from '@material-ui/core/InputBase';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport Typography from '@material-ui/core/Typography';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Footer from './layout/Footer';\n\nconst styles = theme => ({\n  root: {\n    width: \"100%\",\n    minWidth: 1080\n  },\n  menu: {\n    marginTop: 15,\n    marginBottom: 15,\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  paper: {\n    marginLeft: 18,\n    marginRight: 18\n  },\n  progress: {\n    margin: theme.spacing.unit * 2\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  tableHead: {\n    fontSize: '1.0rem'\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n  },\n  title: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing.unit,\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    width: theme.spacing.unit * 9,\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n    width: '100%',\n  },\n  inputInput: {\n    paddingTop: theme.spacing.unit,\n    paddingRight: theme.spacing.unit,\n    paddingBottom: theme.spacing.unit,\n    paddingLeft: theme.spacing.unit * 10,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: 120,\n      '&:focus': {\n        width: 200,\n      },\n    },\n  }\n});\n\n  \nclass App extends Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      customers: '',\n      completed: 0,\n      searchKeyword: ''\n    }\n    this.stateRefresh = this.stateRefresh.bind(this);\n    this.handleValueChange = this.handleValueChange.bind(this);\n  }\n  \n  stateRefresh(){\n    this.setState({\n      customers: '',\n      completed: 0,\n      searchKeyword: ''\n    });\n    this.callApi()\n      .then(res => this.setState({customers: res}))\n      .catch(err => console.log(err));\n  }\n\n  handleValueChange = (e) => {\n    let nextState = {};\n    nextState[e.target.name] = e.target.value;\n    this.setState(nextState);\n  }\n  \n  handeSlideMenu = (e) => {\n    console.log('메뉴리스트');\n  }\n\n  componentDidMount() {\n    this.timer = setInterval(this.progress, 20);\n     this.callApi()\n      .then(res => this.setState({customers: res}))\n      .catch(err => console.log(err));\n  }\n\n  componentWillMount = () => {\n    clearInterval(this.timer);\n  }\n    \n  callApi = async () => {\n     const response = await fetch('/dr/customer/customers');\n     const body = await response.json();\n     return body;\n  }\n\n  progress = () => {\n    const {completed} = this.state;\n    this.setState({ completed: completed >= 100 ? 0 : completed + 1 });\n  };\n\n  render(){\n    const filteredComponents = (data) => {\n      data = data.filter((c) => {\n        return c.name.indexOf(this.state.searchKeyword) > -1;\n      });\n      return data.map((c) => {\n        return <Customer stateRefresh={this.stateRefresh} key={c.id} id={c.id} image={c.image} name={c.name} birthday={c.birthday} gender={c.gender} job={c.job} />\n      });\n    };\n    const {classes} = this.props;\n    const cellList = [\"번호\" , \"프로필 이미지\" , \"이름\" , \"생년월일\" , \"성별\" , \"직업\" , \"설정\"];\n    return(\n      <div className={classes.root}>\n        <AppBar position='static'>\n          <Toolbar>\n            <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Open drawer\">\n              <MenuIcon onClick={this.handeSlideMenu }/>\n            </IconButton>\n            <Typography className={classes.title} variant=\"h6\" color=\"inherit\" noWrap>\n              고객관리\n            </Typography>\n            <div className={classes.grow} />\n            <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase \n              placeholder=\"검색하기\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n              name=\"searchKeyword\"\n              value={this.state.searchKeyword}\n              onChange={this.handleValueChange}\n            />\n            </div>\n          </Toolbar>\n        </AppBar>\n        <div className={classes.menu}>\n          <CustomerAdd stateRefresh={this.stateRefresh} />\n        </div>\n        <Paper className={classes.paper}>\n          <Table>\n            <TableHead>\n              <TableRow>\n                {cellList.map(c => {\n                return <TableCell className={classes.tableHead}>{c}</TableCell>\n                })}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {this.state.customers ?\n                filteredComponents(this.state.customers) :\n              <TableRow>\n                <TableCell colSpan='6' align='center'>\n                  <CircularProgress className={classes.progress} variant='determinate' value={this.state.completed} />\n                </TableCell>\n              </TableRow>\n              }\n            </TableBody>\n          </Table>\n        </Paper>\n        <Footer />\n      </div>  \n    );\n  }\n}\n\n// export default hot(module)(App);\nexport default withStyles(styles)(App);\n\n"]},"metadata":{},"sourceType":"module"}