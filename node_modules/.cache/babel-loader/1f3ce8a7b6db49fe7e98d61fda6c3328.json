{"ast":null,"code":"import _classCallCheck from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Applications/woobeenkun/myBlog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';// import {post} from 'axios';\nimport axios from'axios';var CustomerAdd=/*#__PURE__*/function(_Component){_inherits(CustomerAdd,_Component);function CustomerAdd(props){var _this;_classCallCheck(this,CustomerAdd);_this=_possibleConstructorReturn(this,_getPrototypeOf(CustomerAdd).call(this,props));_this.handleFormSubmit=function(e){e.preventDefault();_this.addCustomer().then(function(response){console.log(response.data);_this.props.stateRefresh();});// 추가버튼 호출 후 고객 추가 양식을 비운 뒤 페이지를 새로고참\n_this.setState({file:null,userName:'',birthday:'',gender:'',job:'',fileName:''});_this.props.stateRefresh();};_this.handleFileChange=function(e){_this.setState({file:e.target.files[0],fileName:e.target.value});};_this.handleValueChange=function(e){var nextState={};nextState[e.target.name]=e.target.value;_this.setState(nextState);};_this.addCustomer=function(){var url='/dr/customer/insert';// const formData = new FormData();\n// formData.append('image' , this.state.file);\n// formData.append('name' , this.state.userName);\n// formData.append('birthday' , this.state.birthday);\n// formData.append('gender' , this.state.gender);\n// formData.append('job' , this.state.job);\n// const config = {\n//     headers: {\n//         //'content-type':'multipart/form-data'\n//         'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n//     }\n// };\n//return post(url , formData , config);,\nreturn axios.post(url,{headers:{'Content-Type':'application/x-www-form-urlencoded;charset=UTF-8'},//headers:{'content-type':'multipart/form-data'},\nimage:_this.state.file,name:_this.state.userName,birthday:_this.state.birthday,gender:_this.state.gender,job:_this.state.job});};_this.state={file:null,userName:'',birthday:'',gender:'',job:'',fileName:''};_this.handleFormSubmit=_this.handleFormSubmit.bind(_assertThisInitialized(_this));_this.handleFileChange=_this.handleFileChange.bind(_assertThisInitialized(_this));_this.handleValueChange=_this.handleValueChange.bind(_assertThisInitialized(_this));_this.addCustomer=_this.addCustomer.bind(_assertThisInitialized(_this));return _this;}_createClass(CustomerAdd,[{key:\"render\",value:function render(){return React.createElement(\"form\",{onSubmit:this.handleFormSubmit},React.createElement(\"h1\",null,\"\\uACE0\\uAC1D \\uCD94\\uAC00\"),\"\\uD504\\uB85C\\uD544 \\uC774\\uBBF8\\uC9C0: \",React.createElement(\"input\",{type:\"file\",name:\"file\",file:this.state.file,value:this.state.fileName,onChange:this.handleFileChange}),React.createElement(\"br\",null),\"\\uC774\\uB984: \",React.createElement(\"input\",{type:\"text\",name:\"userName\",value:this.state.userName,onChange:this.handleValueChange}),React.createElement(\"br\",null),\"\\uC0DD\\uB144\\uC6D4\\uC77C: \",React.createElement(\"input\",{type:\"text\",name:\"birthday\",value:this.state.birthday,onChange:this.handleValueChange}),React.createElement(\"br\",null),\"\\uC131\\uBCC4: \",React.createElement(\"input\",{type:\"text\",name:\"gender\",value:this.state.gender,onChange:this.handleValueChange}),React.createElement(\"br\",null),\"\\uC9C1\\uC5C5: \",React.createElement(\"input\",{type:\"text\",name:\"job\",value:this.state.job,onChange:this.handleValueChange}),React.createElement(\"br\",null),React.createElement(\"button\",{type:\"submit\"},\"\\uCD94\\uAC00\\uD558\\uAE30\"));}}]);return CustomerAdd;}(Component);export default CustomerAdd;","map":{"version":3,"sources":["/Applications/woobeenkun/myBlog/client/src/components/CustomerAdd.jsx"],"names":["React","Component","axios","CustomerAdd","props","handleFormSubmit","e","preventDefault","addCustomer","then","response","console","log","data","stateRefresh","setState","file","userName","birthday","gender","job","fileName","handleFileChange","target","files","value","handleValueChange","nextState","name","url","post","headers","image","state","bind"],"mappings":"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","sourcesContent":["import React , {Component} from 'react';\n// import {post} from 'axios';\nimport axios from 'axios';\n\nclass CustomerAdd extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            file: null,\n            userName: '',\n            birthday: '',\n            gender: '',\n            job: '',\n            fileName: ''\n        }\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\n        this.handleFileChange = this.handleFileChange.bind(this);\n        this.handleValueChange = this.handleValueChange.bind(this);\n        this.addCustomer = this.addCustomer.bind(this);\n    }    \n\n    handleFormSubmit = (e) => {\n        e.preventDefault();\n        this.addCustomer()\n        .then((response) => {\n            console.log(response.data);\n            this.props.stateRefresh();\n        })\n\n        // 추가버튼 호출 후 고객 추가 양식을 비운 뒤 페이지를 새로고참\n        this.setState({\n            file: null,\n            userName: '',\n            birthday: '',\n            gender: '',\n            job: '',\n            fileName: '',\n        });\n        this.props.stateRefresh();\n    }\n\n    handleFileChange = (e) => {\n        this.setState({\n            file: e.target.files[0],\n            fileName: e.target.value\n        });\n    }     \n\n    handleValueChange = (e) => {\n        let nextState = {};\n        nextState[e.target.name] = e.target.value;\n        this.setState(nextState);\n    }\n\n    addCustomer = () => {\n        const url = '/dr/customer/insert';\n        // const formData = new FormData();\n        // formData.append('image' , this.state.file);\n        // formData.append('name' , this.state.userName);\n        // formData.append('birthday' , this.state.birthday);\n        // formData.append('gender' , this.state.gender);\n        // formData.append('job' , this.state.job);\n        // const config = {\n        //     headers: {\n        //         //'content-type':'multipart/form-data'\n        //         'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n        //     }\n        // };\n        //return post(url , formData , config);,\n        return axios.post(url , {\n            headers: {'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'},\n            //headers:{'content-type':'multipart/form-data'},\n            image: this.state.file,\n            name: this.state.userName,\n            birthday: this.state.birthday,\n            gender: this.state.gender,\n            job: this.state.job\n        });\n    }\n\n    render(){\n        return (\n            <form onSubmit={this.handleFormSubmit}>\n            <h1>고객 추가</h1>\n            프로필 이미지: <input type=\"file\" name=\"file\" file={this.state.file} value={this.state.fileName} onChange={this.handleFileChange} /><br/>\n            이름: <input type=\"text\" name=\"userName\" value={this.state.userName} onChange={this.handleValueChange} /><br/>\n            생년월일: <input type=\"text\" name=\"birthday\" value={this.state.birthday} onChange={this.handleValueChange} /><br/>\n            성별: <input type=\"text\" name=\"gender\" value={this.state.gender} onChange={this.handleValueChange} /><br/>\n            직업: <input type=\"text\" name=\"job\" value={this.state.job} onChange={this.handleValueChange} /><br/>\n            <button type=\"submit\">추가하기</button>\n            </form>\n        );\n    }\n}\n\nexport default CustomerAdd;"]},"metadata":{},"sourceType":"module"}